---

# MILESTONE 2: LNPV Model Construction

## Objetivo

CÃ³digo funcional que calcula LNPV para 32 escenarios (2 interventions Ã— 4 regions Ã— 4 subgroups).

## Documentos a Consultar

### ðŸ“„ `RWF_40Hour_PoC_Plan` \- Part C (PRIMARY)

**Part C.1 \- LNPV Framework:**

- [ ] Extraer especificaciÃ³n COMPLETA ecuaciÃ³n Mincer:  
        
      ln(W\_t) \= Î²â‚€ \+ Î²â‚Ã—S \+ Î²â‚‚Ã—Exp \+ Î²â‚ƒÃ—ExpÂ² \+ sector\_premium \+ treatment\_effect(t)  
        
- [ ] Documentar TODOS los parÃ¡metros: Î²â‚, Î²â‚‚, Î²â‚ƒ, sector\_premium  
- [ ] MÃ©todo de cÃ¡lculo initial wage (Wâ‚€)  
- [ ] EspecificaciÃ³n experience profile (linear/quadratic/cubic?)

**Part C.1 \- Initial Wage Premium Ï€â‚€:**

- [ ] FÃ³rmula para Ï€â‚€ desde test score gains (RTE)  
- [ ] FÃ³rmula para Ï€â‚€ desde vocational training (Apprenticeship)  
- [ ] VariaciÃ³n de Ï€â‚€ por demographic subgroup  
- [ ] Urban/rural adjustment factors

**Part C.2 \- Wage Persistence & Decay:**

- [ ] EspecificaciÃ³n decay function:  
        
      Ï€(t) \= Ï€â‚€ Ã— exp(-Î»t)  o  Ï€(t) \= Ï€â‚€ Ã— (1/2)^(t/h)  
        
- [ ] Half-life (h) baseline assumption  
- [ ] Sensitivity range para h (ej: \[5, 10, 15, 20, âˆž\] years)  
- [ ] Decay rate varÃ­a por intervention type?

**Buscar "formal sector entry" en Part C:**

- [ ] P(Formal | education, treatment) formulas  
- [ ] Logistic function de years de education?  
- [ ] Baseline P(Formal) por education level  
- [ ] Treatment effect en P(Formal) (no solo wages)

**Buscar "discount" o "NPV":**

- [ ] Discount rate (Î´) value  
- [ ] Time horizon (T \= 40 aÃ±os?)  
- [ ] NPV formula:  
        
      NPV \= Î£\[t=0 to T\] (W\_treatment(t) \- W\_control(t)) / (1+Î´)^t  
        
- [ ] Employment probability adjustments needed?

**Part D.1 \- Regional Adjustments:**

- [ ] Region-specific parameter multipliers:  
      - Mincer return adjustments  
      - Wage level adjustments  
      - P(Formal) adjustments  
- [ ] State mapping to regions  
- [ ] Adjustments differ urban/rural within region?

**Part D.2 \- Demographic Subgroups:**

- [ ] 4 subgroup definitions  
- [ ] Parameter adjustments por subgroup (gender wage gaps, urban/rural formal entry diffs)  
- [ ] Caste-specific adjustments (despite PoC limitations)?

**QuÃ© buscar (desconocido):**

- Inflation adjustment procedures (real vs. nominal)  
- Lifecycle employment probability adjustments (unemployment shocks?)  
- Sector transition matrices (workers move formal â†” informal?)  
- Child-bearing effects en female LFPR

### ðŸ“„ `RWF_Approach_Note` (SECONDARY)

- [ ] Verificar causal pathway logic operationalizado en code  
- [ ] Intermediate steps a calcular? (ej: test score â†’ years conversion)  
- [ ] Assumptions sobre how effects compound/substitute

### ðŸ“„ `labor_market_macro_research` (TERTIARY)

- [ ] Buscar "experience" o "quadratic" para experience effect coefficients  
- [ ] Exact Mincer specification si provided  
- [ ] Urban/rural tienen different age-wage profiles?  
- [ ] Formal/informal sectors different experience returns?

## Model Construction Tasks

### Task 1: Write Core LNPV Function

**Inputs requeridos:**

- S\_treatment, S\_control (years education)  
- Ï€â‚€ (initial premium)  
- h (half-life)  
- P\_formal\_treatment, P\_formal\_control  
- W\_formal\_baseline, W\_informal\_baseline  
- Î² (Mincer return)  
- Î´ (discount rate)  
- T (time horizon)  
- region (N/S/E/W)  
- subgroup (UM/UF/RM/RF)

**Output:** LNPV (single number en â‚¹)

### Task 2: Load Parameters from M1

1. Read `parameter_registry.csv`  
2. Validate ALL required parameters present  
3. Error si any critical parameter missing

### Task 3: Load Synthetic Profiles

1. Read `synthetic_profiles.csv`  
2. Extract treatment/control demographics para cada intervention  
3. Create parameter sets para 32 scenarios

### Task 4: Calculate 32 Baseline LNPV Estimates

1. Create results table structure  
2. Loop through 32 combinations  
3. Apply regional/demographic adjustments  
4. Store results

### Task 5: Calculate BCRs (si costs available)

- RTE: C\_RTE (ej: â‚¹8,000)  
- Apprenticeship: C\_apprenticeship (ej: â‚¹150,000)  
- BCR \= LNPV / Cost  
- Flag BCR \> 3:1 as "highly cost-effective"

### Task 6: Validate Model Output

**Checks:**

- [ ] LNPV positive para todos (negative \= error)  
- [ ] LNPV scales logically: Urban \> Rural, South/West \> North/East  
- [ ] Age-wage profiles increase then plateau (not monotonic)  
- [ ] Decay visible en trajectories

## Deliverables

- [ ] `lnpv_model.R` o `.py` (fully commented)  
- [ ] `lnpv_baseline_results.csv` (32 estimates con metadata)  
- [ ] `wage_trajectories_sample.csv` (para visualization)  
- [ ] `bcr_estimates.csv` (si cost data available)  
- [ ] `model_validation_log.md`

